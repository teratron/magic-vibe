# Task Magic

**Task Magic** — это файловая система, в которой хранятся все планы, задачи и история проекта в виде обычных текстовых файлах (в основном Markdown) прямо в директории `.ai/` вашего проекта. Это упрощает контроль версий, отслеживание изменений и позволяет ИИ-агентам легко читать и понимать ваш проект.

*Основан на данном репозитории: [Task Magic](https://github.com/iannuttall/task-magic).*

## Как это работает

В Task Magic есть три основные части:

1. **Планы (`.ai/plans/`)**:
    - **Назначение**: Здесь вы определяете "что" и "зачем" для вашего проекта или конкретных функций. Думайте об этом как о документах требований к продукту (PRD).
    - **Ключевые файлы**:
      - `.ai/plans/PLANS.md`: Глобальный обзор всего вашего проекта. Должен быть кратким резюме и индексом, ссылающимся на более детальные планы функций.
      - `.ai/plans/features/{ваша-функция}-plan.md`: Детальные PRD для каждой конкретной функции, которую вы разрабатываете. Здесь ИИ будет искать детали при генерации задач.
    - **Взаимодействие с ИИ**: ИИ-агенты используют эти планы для понимания области и требований, помогая генерировать задачи.
2. **Задачи (`.ai/tasks/` и `.ai/TASKS.md`)**:
    - **Назначение**: Здесь находятся фактические рабочие элементы. ИИ-агенты (или вы) можете разбивать планы на отдельные, управляемые задачи.
    - **Ключевые файлы и структура**:
      - `.ai/tasks/task{id}_description.md`: Каждая задача получает свой собственный Markdown файл. Он включает детали, такие как статус (ожидает, в процессе, завершена), приоритет, зависимости, описание и как её тестировать.
      - `.ai/TASKS.md`: Это ваш основной чек-лист. Это удобный для человека обзор всех задач в директории `.ai/tasks/`, показывающий их статус с первого взгляда. **Этот файл и отдельные файлы задач синхронизируются ИИ.**
    - **Взаимодействие с ИИ**: ИИ-агенты могут создавать задачи из планов, обновлять их статус по мере работы над ними и помогать управлять зависимостями.
3. **Память (`.ai/memory/`)**:
    - **Назначение**: Завершённые и неудачные задачи, а также старые планы архивируются здесь. Это предоставляет ценную историю для обучения ИИ и для вашего справочника.
    - **Ключевые файлы**:
      - `.ai/memory/tasks/`: Архивированные файлы задач.
      - `.ai/memory/TASKS_LOG.md`: Журнал архивирования задач.
      - `.ai/memory/plans/`: Архивированные файлы планов.
      - `.ai/memory/PLANS_LOG.md`: Журнал архивированных планов.
    - **Взаимодействие с ИИ**: ИИ может обращаться к памяти, чтобы понять, как похожие вещи делались в прошлом, или почему был выбран определённый подход.

## Работа с ИИ-агентами

Task Magic разработан для тесной работы с ИИ-агентами. Вот как обрабатываются правила и контекст:

- **Автоматический контекст (файлы `_index.md`)**:
  - Файлы с именем `_index.md` (например, в `.vscode/rules/.task-magic/_index.md` или `.vscode/rules/.task-magic/_index.mdc`) предоставляют высокоуровневый обзор системы или набора правил.
  - Эти файлы `_index.md` **автоматически включаются в контекст ИИ**, когда вы работаете в проекте, который их использует. Это даёт ИИ базовое понимание без дополнительных действий с вашей стороны.
- **Правила по требованию (другие файлы правил `.md` или `.mdc`)**:
  - Другие файлы правил (например, `tasks.mdc`, `plans.mdc`, расположенные в `.vscode/rules/.task-magic/` или `.vscode/rules/.task-magic/`) определяют специфическое поведение или знания для ИИ.
  - Каждый из этих файлов правил имеет `description` в своём заголовке. ИИ-агент (Cursor/Windsurf) может читать эти описания и **динамически решать, релевантно ли конкретное правило** для вашего текущего запроса или задачи, которую он выполняет.
  - Если ИИ считает правило релевантным, он "получит" и использует это правило.
- **Ваша роль: Направление ИИ с помощью @-тегов**:
  - Хотя агент обычно довольно хорош в определении того, какие правила использовать, вы можете вручную отмечать правила, которые хотите использовать.
  - **Для лучших результатов используйте @-теги для конкретных файлов правил или директорий в ваших запросах.** Например:
    - `@.vscode/rules/.task-magic/tasks.md создай задачи для этой функции`
    - `@.vscode/rules/.task-magic/plans.md сгенерируй план для X`
    - `@TASKS.md какой статус моего проекта?` (для ссылки на основной чек-лист задач)
    - `@.ai/plans/features/my-cool-feature-plan.md можешь просмотреть этот план?`
  - Это помогает убедиться, что ИИ смотрит на точную информацию, которая нужна для выполнения задачи.

## Начало работы

1. **Инициализация структуры `.ai/`**: Если эти директории не существуют, ИИ обычно создаст их по мере необходимости, когда вы попросите создать план или задачу. Вы также можете создать их вручную.
    - `.ai/plans/PLANS.md` (начните с простого названия проекта и обзора)
    - `.ai/TASKS.md` (может начинаться просто с `# Задачи проекта`)
    - `.ai/memory/TASKS_LOG.md` (может начинаться с `# Журнал архива задач`)
2. **Создание плана**: Попросите вашего ИИ-помощника создать новый план функции, используя правило планирования (например, `@.vscode/rules/.task-magic/plans.md создай план для аутентификации пользователей`).
3. **Генерация задач**: Когда план готов, попросите ИИ сгенерировать задачи из него (например, `@.vscode/rules/.task-magic/tasks.md сгенерируй задачи для user-authentication-plan.md`).
4. **Работа над задачами**: Скажите ИИ начать работу над задачами. Он будет обновлять `.ai/TASKS.md` и отдельные файлы задач по мере продвижения.
5. **Архивирование**: Периодически просите ИИ архивировать завершённые или неудачные задачи, чтобы поддерживать активный список задач в чистоте.

Используя Task Magic, вы получаете структурированный, дружественный к ИИ способ управления проектами, обеспечивая, что и вы, и ваши ИИ-помощники всегда находитесь на одной волне.

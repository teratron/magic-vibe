# Magic Vibe

**Magic Vibe** — это файловая система, в которой хранятся все планы, задачи и история проекта в виде обычных текстовых файлах (в основном Markdown) прямо в директории `.magic-vibe/ai/` вашего проекта.
Это упрощает контроль версий, отслеживание изменений и позволяет ИИ-агентам легко читать и понимать ваш проект.

*Основан на данном репозитории: [Task Magic](https://github.com/iannuttall/task-magic).*

## Как это работает

В Magic Vibe есть три основные части:

1. **Планы (`.magic-vibe/ai/plans/`)**:
    - **Назначение**: Здесь вы определяете "что" и "зачем" для вашего проекта или конкретных функций. Думайте об этом как о документах требований к продукту (PRD).
    - **Ключевые файлы**:
      - `.magic-vibe/ai/PLANS.md`: Глобальный обзор всего вашего проекта. Должен быть кратким резюме и индексом, ссылающимся на более детальные планы функций.
      - `.magic-vibe/ai/plans/plan-{id}-{feature-name}.md`: Детальные PRD для каждой конкретной функции, которую вы разрабатываете. Здесь ИИ будет искать детали при генерации задач.
    - **Взаимодействие с ИИ**: ИИ-агенты используют эти планы для понимания области и требований, помогая генерировать задачи.
2. **Задачи (`.magic-vibe/ai/tasks/` и `.magic-vibe/ai/TASKS.md`)**:
    - **Назначение**: Здесь находятся фактические рабочие элементы. ИИ-агенты (или вы) можете разбивать планы на отдельные, управляемые задачи.
    - **Ключевые файлы и структура**:
      - `.magic-vibe/ai/tasks/task_{id}_{descriptive_name}.md`: Каждая задача получает свой собственный Markdown файл. Он включает детали, такие как статус (ожидает, в процессе, завершена), приоритет, зависимости, описание и как её тестировать.
      - `.magic-vibe/ai/TASKS.md`: Это ваш основной чек-лист. Это удобный для человека обзор всех задач в директории `.magic-vibe/ai/tasks/`, показывающий их статус с первого взгляда. **Этот файл и отдельные файлы задач синхронизируются ИИ.**
    - **Взаимодействие с ИИ**: ИИ-агенты могут создавать задачи из планов, обновлять их статус по мере работы над ними и помогать управлять зависимостями.
3. **Память (`.magic-vibe/ai/memory/`)**:
    - **Назначение**: Завершённые и неудачные задачи, а также старые планы архивируются здесь. Это предоставляет ценную историю для обучения ИИ и для вашего справочника.
    - **Ключевые файлы**:
      - `.magic-vibe/ai/memory/tasks/`: Архивированные файлы задач.
      - `.magic-vibe/ai/memory/TASKS_LOG.md`: Журнал архивирования задач.
      - `.magic-vibe/ai/memory/plans/`: Архивированные файлы планов.
      - `.magic-vibe/ai/memory/PLANS_LOG.md`: Журнал архивированных планов.
    - **Взаимодействие с ИИ**: ИИ может обращаться к памяти, чтобы понять, как похожие вещи делались в прошлом, или почему был выбран определённый подход.
4. **Хуки (`.magic-vibe/ai/hooks/`)**:
    - **Назначение**: Это расширенная функция, которая позволяет запускать автоматические действия в определённые моменты жизненного цикла задач и планов (например, при завершении задачи или создании плана).
    - **Ключевые файлы и структура**:
      - `.magic-vibe/rules/hooks/{hook-name}.hook.md` или `.magic-vibe/ai/hooks/{hook-name}.hook.md`: Каждый хук определяется в своём собственном файле, указывая событие-триггер (например, `task_status_change`) и действие для выполнения (например, команду оболочки).
    - **Взаимодействие с ИИ**: ИИ-агент отвечает за обнаружение и выполнение этих хуков при выполнении их триггерных условий в ходе своей работы. Конкретные правила для этого определены в `.magic-vibe/rules/hooks.md`.

## Работа с ИИ-агентами

Magic Vibe разработан для тесной работы с ИИ-агентами. Вот как обрабатываются правила и контекст:

- **Автоматический контекст (файлы `_index.md`)**:
  - Файл с именем `_index.md` (например, в `.magic-vibe/rules/_index.md`) предоставляет высокоуровневый обзор системы или набора правил.
  - Эти файлы `_index.md` **автоматически включаются в контекст ИИ**, когда вы работаете в проекте, который их использует. Это даёт ИИ базовое понимание без дополнительных действий с вашей стороны.
- **Правила по требованию (другие файлы правил `.md` или `.mdc`)**:
  - Другие файлы правил (например, `tasks.md`, `plans.md`, расположенные в `.magic-vibe/rules/`) определяют специфическое поведение или знания для ИИ.
  - Каждый из этих файлов правил имеет `description` в своём заголовке. ИИ-агент (Cursor/Windsurf) может читать эти описания и **динамически решать, релевантно ли конкретное правило** для вашего текущего запроса или задачи, которую он выполняет.
  - Если ИИ считает правило релевантным, он "получит" и использует это правило.
- **Ваша роль: Направление ИИ с помощью @-тегов**:
  - Хотя агент обычно довольно хорош в определении того, какие правила использовать, вы можете вручную отмечать правила, которые хотите использовать.
  - **Для лучших результатов используйте @-теги для конкретных файлов правил или директорий в ваших запросах.** Например:
    - `@.magic-vibe/rules/tasks.md создай задачи для этой функции`
    - `@.magic-vibe/rules/plans.md сгенерируй план для X`
    - `@TASKS.md какой статус моего проекта?` (для ссылки на основной чек-лист задач)
    - `@.magic-vibe/ai/plans/plan-my-cool-feature.md можешь просмотреть этот план?`
  - Это помогает убедиться, что ИИ смотрит на точную информацию, которая нужна для выполнения задачи.

## Начало работы

1. **Инициализация структуры `.magic-vibe/ai/`**: Если эти директории не существуют, ИИ обычно создаст их по мере необходимости, когда вы попросите создать план или задачу. Вы также можете создать их вручную.
    - `.magic-vibe/ai/PLANS.md` (начните с простого названия проекта и обзора)
    - `.magic-vibe/ai/TASKS.md` (может начинаться просто с `# Задачи проекта`)
    - `.magic-vibe/ai/memory/TASKS_LOG.md` (может начинаться с `# Журнал архива задач`)
2. **Создание плана**: Попросите вашего ИИ-помощника создать новый план функции, используя правило планирования (например, `@.magic-vibe/rules/plans.md создай план для аутентификации пользователей`).
3. **Генерация задач**: Когда план готов, попросите ИИ сгенерировать задачи из него (например, `@.magic-vibe/rules/tasks.md сгенерируй задачи для user-authentication-plan.md`).
4. **Работа над задачами**: Скажите ИИ начать работу над задачами. Он будет обновлять `.magic-vibe/ai/TASKS.md` и отдельные файлы задач по мере продвижения.
5. **Архивирование**: Периодически просите ИИ архивировать завершённые или неудачные задачи, чтобы поддерживать активный список задач в чистоте.

Используя Magic Vibe, вы получаете структурированный, дружественный к ИИ способ управления проектами, обеспечивая, что и вы, и ваши ИИ-помощники всегда находитесь на одной волне.
